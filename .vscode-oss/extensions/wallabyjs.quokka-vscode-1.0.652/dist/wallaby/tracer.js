/*
 * wallaby-core - v1.0.1598
 * https://wallabyjs.com
 * Copyright (c) 2014-2024 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of wallaby-core and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function(v){for(var r,e=["alert","confirm","prompt"],t=0;t<e.length;t++){var n=e[t];v[n]&&~v[n].toString().indexOf("[native code]")&&(v[n]=function(){})}v.addEventListener&&(v.addEventListener("beforeunload",function(){if(!(v.$_$tracer&&v.$_$tracer._finished||v.navigator&&v.navigator.userAgent&&!/PhantomJS/.test(v.navigator.userAgent)&&!/Electron/.test(v.navigator.userAgent)&&!v.$_$tracer._startRequested)&&v.$_$throwOnBeforeunload)throw new Error("One of your tests is trying to unload window object.")}),v.$_$reportUnhandledPromises)&&v.addEventListener("unhandledrejection",function(e){var t;if(e&&e.reason)throw t=new Error,e.reason.stack&&(t.stack=e.reason.stack),t.message="Unhandled promise rejection: "+(e.reason.message||e.reason),t});try{v.Error.stackTraceLimit=80}catch(e){}function o(){var r=this;r._noOp=function(){},r._maxLogEntrySize=v.$_$maxLogEntrySize||16384,r._maxTraceSteps=v.$_$maxTraceSteps||999999,r._maxTraceStepsForWatchExpressionPrefetch=void 0!==v.$_$maxTraceStepsForWatchExpressionPrefetch?v.$_$maxTraceStepsForWatchExpressionPrefetch:10,r._evaluatedExpressionPerRangeLimit=1e4,r._evaluatedProxyExpressionPerRangeLimit=1e4,r._undefined=v.undefined,r._setTimeout=v.setTimeout,r._Date=v.Date,r._Error=v.Error,r._Symbol=v.Symbol,r._JSONStringify=JSON.stringify,r._XMLHttpRequest=v.XMLHttpRequest,r._regExpToString=RegExp.prototype.toString,r._dateToString=Date.prototype.toString,r._HTMLAllCollection=v.HTMLAllCollection,r._getOwnPropertyNames=Object.getOwnPropertyNames,r._getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,r._pauseAfterSingleTestExecution=v.navigator&&v.navigator.userAgent&&/PhantomJS/.test(v.navigator.userAgent),r._seq=0,r._replacedConsoleLog=v.console.log=function(){r._suppressConsoleLog||r._doWhenReceiverIsReady(function(e){r._log.apply(r,e)},arguments)},v.console.warn=function(){r._doWhenReceiverIsReady(function(e){r._warn.apply(r,e)},arguments)},v.console.error=function(){r._doWhenReceiverIsReady(function(e){r._error.apply(r,e)},arguments)},v.console.dir=function(){r._doWhenReceiverIsReady(function(e){r._dir.apply(r,e)},arguments)},v.console.debug=function(){r._doWhenReceiverIsReady(function(e){r._debug.apply(r,e)},arguments)},v.console.info=function(){r._doWhenReceiverIsReady(function(e){r._info.apply(r,e)},arguments)},r._receiver=v.$_$receiver||new v.WebSocket("ws://"+(v.$_$receiverHost||"127.0.0.1")+":"+v.$_$receiverPort),r._onReceiverReady=[function(){r._receiverReady=!0}],r._receiver.onopen=function(){for(var t=0,e=r._onReceiverReady.length;t<e;t++)try{r._onReceiverReady[t]()}catch(e){if(v.$_$reuseableTracer||void 0===r._onStartIndex||!(t<r._onStartIndex))throw e;r._globalBrowserError(e.message,void 0,void 0,void 0,e)}},r._receiver.onerror=function(e){throw new Error("Sandbox receiver error: "+e.message)},r.reset()}var $,_,a,i,u=/%[sdjc%]/g,s=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/,c=/^(0|[1-9][0-9]*)$/,l=/'([^\\']|\\')*'/;"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(e){function t(){return n.apply(this instanceof o?this:e||{},r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),n=this,o=function(){};return o.prototype=this.prototype||{},t.prototype=new o,t});o.prototype={setGlobalErrorHandler:function(){var e=this;v.$_$reuseableTracer||(v.onerror=function(){e._globalBrowserError.apply(e,arguments)})},_globalBrowserError:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._sendBrowserGlobalError.apply(t,e)},arguments)},reportDeclarationError:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._sendDeclarationError.apply(t,e)},arguments)},reportGlobalErrorObject:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._sendGlobalErrorObject.apply(t,e)},arguments)},reportSnapsImportError:function(e){var t=this;t._doWhenReceiverIsReady(function(e){t._sendGlobalErrorObject.apply(t,e)},[{message:e.message,stack:e.stack,keepSessionActive:!0}])},reportSnapsProgramScopeError:function(e){var t=this;t._doWhenReceiverIsReady(function(e){t._sendGlobalErrorObject.apply(t,e)},[{message:e.message,stack:e.stack,keepSessionActive:!0}])},sendTransformedFile:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._sendTransformedFile.apply(t,e)},arguments)},_sendTransformedFile:function(e){this._send("transformedFile",e)},sendFileChange:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._sendFileChange.apply(t,e)},arguments)},_sendFileChange:function(e){this._send("fileChange",e)},initialSpecId:function(){return v.$_$initialSpecId},setInitializeResult:function(e){this._initializeResult=e},start:function(e){var t,r=this;!e&&(r._delayStart||r._startRequested&&!v.$_$reuseableTracer)||(r.reset(),e?(r._onStart=e,r._patchFrameworks()):(t=function(){if(e)r._onStart=e,r._patchFrameworks();else{if(!r._onStart)throw new Error("Missing tracer start subscription");r._startRequested=!0,r._receiverReady?r._onStart():(r._onReceiverReady.push(r._onStart),r._onStartIndex=r._onReceiverReady.length-1)}},r._initializeResult&&r._initializeResult instanceof Promise?(r._initializeResult.then(t).catch(function(e){e.message="Uncaught Error in Wallaby `setup` function: "+e.message,r._globalBrowserError(e.message,void 0,void 0,void 0,e)}),delete r._initializeResult):t()))},isInitialized:function(){return!!v.$_$coverage},statement:function(e,t){v.$_$coverage[e][t][this._spec]=r++},scopeStart:function(e){this._fileEncounter[e]||(this._fileEncounterSequence.push(e),this._fileEncounter[e]=1)},programScopeStartLoading:function(e){this._testFileIds[e]&&(this._resetFileData(),v.$_$traceContext)&&v.$_$traceContext.test&&(e===v.$_$traceContext.test[0]?this._setTraceRecordMode():this._resetTracerMode()),this.scopeStart(e)},programScopeEndLoading:function(e){this._testFileIds[e]&&(this._saveCurrentTestLoadingSequence(),this._resetFileData())},_saveCurrentTestLoadingSequence:function(){this._fileEncounterSequence.length&&this._testLoadingSequence.push(this._fileEncounterSequence.slice())},entryFile:function(){return this._fileEncounterSequence[0]},started:function(e){(e=e||{}).loadingSequence=this._testLoadingSequence.slice(),this._resetLoadingData(),this._resetFileData(),v.$_$wp=this._original_$_$wp,v.$_$wpe=this._original_$_$wpe,this._send("started",e)},specFileTests:function(e){this._send("specFileTests",e)},specStart:function(e,t,r,n,o){var a=this,i="string"==typeof t?t:a._inspect(t,2,10);this._doWhenReceiverIsReady(function(){a._sendWithHighPriority("preTest",{specName:i,specFileId:r,path:n})}),this._spec=e,this._specName=i,o||this._resetFileData(),v.$_$trace&&(v.$_$trace.tests[e]={start:v.$_$trace.sequence.length})},specSyncStart:function(){var e;this._specRangeStart=r,v.$_$trace&&this._spec&&(e=v.$_$trace.tests[this._spec])&&(e.start=v.$_$trace.sequence.length)},specSyncEnd:function(){this._specRangeEnd=r-1},specEnd:function(){v.$_$trace&&(e=v.$_$trace.tests[this._spec])&&(e.end=Math.max(v.$_$trace.sequence.length-1,e.start),e.start>v.$_$trace.sequence.length-1)&&delete v.$_$trace.tests[this._spec],this._spec=0,delete this._specName;var e=this._specRangeStart,t=this._specRangeEnd;return this._specRangeStart=0,this._specRangeEnd=0,[e,t||r]},needToNotifySingleTestRun:function(){if(this._paused||this._onResumed||!this.hasSpecFilter()||v.$_$reuseableTracer||!this._pauseAfterSingleTestExecution)return!1;for(var e=v.$_$tests;"*"!==e;){var t=Object.keys(e);if(1!=t.length)return!1;e=e[t[0]]}return!0},notifySingleTestAfterEach:function(e){this._paused||this._onResumed||v.$_$reuseableTracer?e():(this._paused=!0,this._onResumed=e,this._send("resume"))},resume:function(){this._paused&&(this._paused=!1,this._onResumed)&&(this._onResumed(),delete this._onResumed)},paused:function(){return this._paused},hasSpecFilter:function(){return!!v.$_$tests&&"*"!==v.$_$tests},specFilter:function(e){var t=v.$_$tests[":?"];if(t&&t[":"+e[e.length-1]])return!0;for(var r=v.$_$tests,n=0,o=e.length;n<o;n++){if(!(r=r[":"+e[n]]))return!1;if("*"===r)return!0}return!1},globalSetupComplete:function(e){this._send("globalSetupComplete",e)},complete:function(e){v.$_$coverage&&(this._sendCoverageAndTimeMeasures(),v.$_$trace&&(v.$_$trace.values={},this._send("trace",{trace:v.$_$trace}),delete v.$_$trace,this._resetTracerMode()),this._send("complete",e),v.$_$reuseableTracer||(this._receiver.close(),this._finished=!0))},intermediateComplete:function(){this._sendCoverageAndTimeMeasures()},_sendCoverageAndTimeMeasures:function(){if(v.$_$coverage){for(var e=0,t=v.$_$coverage.length;e<t;e++){var r=v.$_$coverage[e];r&&r.length&&this._send("coverage",{id:e,ranges:r})}var n=Object.keys($._autoTimeHits);for(e=0,t=n.length;e<t;e++){var o,a,i,s,c,l,u,p=$._autoTimeHits[n[e]];p.fileId&&(p.logMarkerContext&&(o=p.logMarkerContext.changeId,a=p.logMarkerContext.traceId,i=p.logMarkerContext.traceStep,s=p.logMarkerContext.permanent,c=p.logMarkerContext.preciseTraceStep,l=p.logMarkerContext.initialTraceId),(a||o||s)&&(u=u||{},s)&&(u.permanent=s),(a||o)&&(a&&(u.traceId=a),o&&(u.changeId=o),u.traceStep=i,u.preciseTraceStep=c,u.initialTraceId=l),this._sendLog("autoLog",{content:p.value?this._formatTime(p.value)+"ms":"Σ "+this._formatTime(p.total)+"ms, μ "+this._formatTime(p.total/p.n)+"ms, ⋀ "+this._formatTime(p.min)+"ms, ⋁ "+this._formatTime(p.max)+"ms",format:"raw"},p.context,p.fileId,p.rangeId,u))}}},_formatTime:function(e){return e.toFixed(3)},result:function(e){e.files=this._fileEncounterSequence,e.matchSnapshotCalls=this._matchSnapshotCalls,delete this._matchSnapshotCalls,v.$_$reuseableTracer&&this._sendWithHighPriority("postTest"),this._send("test",e)},_patchFrameworks:function(){var e,t,n,r,o,a,i,s=this;s._patchedFrameworks||v.$_$reuseableTracer||(s._patchedFrameworks=!0,e=v.requirejs&&"function"==typeof v.requirejs.load,t=v.System&&(v.System.fetch||v.System.import),s._shouldReportProgramScope=s._shouldReportProgramScope||e||t,e&&(n=v.requirejs.load,v.requirejs.load=function(e,t,r){return n.call(this,e,t,s._urlWithFileData(r))}),t&&(r=v.System.fetch,v.System.fetch=function(){var e=arguments[0]&&arguments[0].address;return e&&(arguments[0].address=s._urlWithFileData(e)),r.apply(this,arguments)},(o=v.fetch)&&(v.fetch=function(){var e=arguments[0];return e&&(arguments[0]=s._urlWithFileData(e)),o.apply(this,arguments)}),a=v.System.import,v.System.import=function(){var e=arguments[0];return e&&(arguments[0]=s._urlWithFileData(e)),a.apply(this,arguments)}),s._XMLHttpRequest&&(i=s._XMLHttpRequest.prototype.open,s._XMLHttpRequest.prototype.open=function(e,t){arguments[1]=s._urlWithFileData(t),i.apply(this,arguments)}),s._Error&&!s._Error.captureStackTrace&&v.navigator&&v.navigator.userAgent&&/PhantomJS\/2/.test(v.navigator.userAgent)&&(s._Error.captureStackTrace=function(){}))},_urlWithFileData:function(e){if(!e||!~e.indexOf("wallabyFileId")){for(var t=[],r=e.replace(/\\/g,"/").split("/"),n=0;n<r.length;n++)"."!==r[n]&&(".."===r[n]&&t.length&&".."!==t[t.length-1]?t.pop():t.push(r[n]));e=t.join("/"),e=this._appendFileData(e)}return e},_appendFileData:function(e){var t="/"===e.charAt(0)?e.substr(1):e,r=v.location&&v.location.host&&e.indexOf(v.location.host),r=(0<=r&&(t=t.substr(r+v.location.host.length+1)),e.lastIndexOf("?")),t=(t=0<=r?t.substring(0,r):t)&&this._getFileMetadata(t);return t?e+(~r?"&":"?")+t.ts+"&wallabyFileId="+t.id:e},_getFileMetadata:function(e){return v.$_$files[e]||v.$_$files[e.split("\\").join("/")]},_doWhenReceiverIsReady:function(e,t){var r=this,n=Date.now();r._receiverReady?(r.receiverReadyScheduleTime=n,e(t),delete r.receiverReadyScheduleTime):r._onReceiverReady.push(function(){r.receiverReadyScheduleTime=n,e(t),delete r.receiverReadyScheduleTime})},_log:function(){this._sendLog("log",this._format.apply(this,arguments),void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_warn:function(){this._sendLog("warn",this._format.apply(this,arguments),void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_error:function(){this._sendLog("error",this._format.apply(this,arguments),void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_dir:function(e){this._sendLog("dir",{content:this._inspect(e),format:"raw"},void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_debug:function(e){this._sendLog("debug",{content:this._inspect(e),format:"raw"},void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_info:function(e){this._sendLog("info",this._format.apply(this,arguments),void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_debugLog:function(){this._sendLog("debugLog",this._format.apply(this,arguments),void 0,void 0,void 0,void 0,void 0,void 0,this.receiverReadyScheduleTime)},_sendBrowserGlobalError:function(e,t,r,n,o){e=e&&e.toString()||"",t=t&&t.toString()||"",(r=r&&r.toString()||"")&&(n=0<=n&&n.toString()||"")&&(r+=":"+n),this._send("globalError",{message:e,stack:o&&o.stack?o.stack:e+"\nat "+t+":"+r})},_sendDeclarationError:function(e){this._send("globalError",{message:e.message,stack:e.stack,declaration:!0})},_sendRunnerError:function(e){this._send("globalError",{message:e.message,stack:e.stack,runner:!0})},_sendGlobalErrorObject:function(e){this._send("globalError",e)},setEnvGlobal:function(e){this._envGlobal=e},resetEnvGlobal:function(){delete this._envGlobal},debugLog:function(){var t=this;t._doWhenReceiverIsReady(function(e){t._debugLog.apply(t,e)},arguments)},log:function(){var _,d,h=this,e=(v.$_$trace&&v.$_$traceContext&&(_="*",d=v.$_$trace.sequence.length>h._maxTraceSteps?void 0:v.$_$trace.sequence.length-1),h._replacedConsoleLog!==v.console.log);if(e||h._envGlobal){for(var t=[],r=arguments.length-3,n=0;n<r;n++)t.push(arguments[n]);h._suppressConsoleLog=!0,h._envGlobal&&h._envGlobal.console.log.apply(h._envGlobal.console,t),e&&v.console.log.apply(console,t),h._suppressConsoleLog=!1}h._doWhenReceiverIsReady(function(e){h._loggingValue=!0;for(var t=[],r=e.length-3,n=0;n<r;n++)t.push(e[n]);var o,a,i=e[r],s=e[1+r],c=e[2+r],l=s+","+c,u=h._consoleHits[l]=h._consoleHits[l]||0,p=1<t.length?t:t[0];u<h._evaluatedExpressionPerRangeLimit?(o=h._formattingOpts(l,{depth:v.$_$logLimits.inline.depth,elements:v.$_$logLimits.inline.elements,resolveGetters:v.$_$resolveGetters}),o=h._evaluateExpressions(h._expressionId(s,l,u),p,i,void 0,void 0,void 0,void 0,o)):u===h._evaluatedExpressionPerRangeLimit&&(a=h._formattingOpts(l,{depth:v.$_$logLimits.inline.depth,elements:v.$_$logLimits.inline.elements,resolveGetters:v.$_$resolveGetters}),o=h._evaluateExpressions(h._expressionId(s,l,u),p,i,new Error("Only the first "+u+" values are evaluated"),void 0,void 0,void 0,a)),h._consoleHits[l]=u+1,o&&_&&(o.traceId=_,o.traceStep=d),o&&h._sendLog("log",{},i,s,c,o),h._loggingValue=!1},arguments)},canUpdateSnapshots:function(){return this._updateSnapshotsRun},_expressionId:function(e,t,r,n){var o=(this.entryFile()||"").toString(),t=t+","+r+(o===(e=e.toString())?"":","+o);return n&&(t+="#"+n.hitCount),t},inspectAssertionValue:function(e){return this._inspect(e,8,1e3,!0,!0,!0)},setAssertionData:function(e,t){try{e.actual||e.expected||!e.matcherResult||((e=e.matcherResult).showDiff="toEqual"===e.name);var r=Object.prototype.toString.call(e.actual);!0===e.showDiff&&r==Object.prototype.toString.call(e.expected)&&void 0!==e.expected&&"[object Boolean]"!==r&&"[object Number]"!==r&&"[object Function]"!==r&&("string"!=typeof e.actual&&(e.actual=this.inspectAssertionValue(e.actual),e.expected=this.inspectAssertionValue(e.expected)),t.actual=e.actual,t.expected=e.expected),"UnexpectedError"===e.name&&e.getErrorMessage&&(t.formattedDiff=e.getErrorMessage("ansi").toString()),e.actual&&e.actual.stack&&"string"==typeof e.actual.stack&&(t.stack=t.stack||"",t.stack+="\nFrom actual error object:\n"+e.actual.stack)}catch(e){}return t},diff:function(t,r,n,o,a){var i=this;return i._doWhenReceiverIsReady(function(){var e=i.setAssertionData({showDiff:!0,expected:t,actual:r},{});i._sendLog("diff",{content:""},n,o,a,void 0,e.expected,e.actual)},arguments),r},_sendLog:function(e,t,r,n,o,a,i,s,c){var l=t.content?t.content.length:0;t.content&&l>this._maxLogEntrySize&&(t.content=t.content.slice(0,this._maxLogEntrySize)+"...\n(truncated, total length: "+l+")",t.format="raw"),this._send("console",{type:e,text:t.content,format:t.format,prefix:t.prefix,valueBag:a,spec:this._spec,file:n,range:o,context:r,expected:i,actual:s,time:c||Date.now()})},_send:function(e,t){this._receiver.send(this._JSONStringify(this._createMessage(e,t)))},_createMessage:function(e,t){return this._seq++,{type:e,data:t,session:v.$_$session,childSession:v.$_$childSession,seq:this._seq}},_sendWithHighPriority:function(e,t){var r;this._highPriorityReceiver?((r=this._createMessage(e,t))._p="###wpm###",this._highPriorityReceiver.send(this._JSONStringify(r)+"\n")):this._send(e,t)},_resetLoadingData:function(){this._testLoadingSequence=this._safeObject([])},_resetFileData:function(){this._fileEncounterSequence=this._safeObject([]),this._fileEncounter=this._safeObject([])},reset:function(){var e=this;r=1,e._consoleHits={},e._consoleProxyHits={},delete e._proxyCache,e._autoTimeHits={},e._logStats={},e._spec=0,delete e._specName,e._specRangeStart=0,e._specRangeEnd=0,e._stackDepth=0,e._functionCallId=0,e._resetFileData()},_safeObject:function(e){return e.toJSON=this._undefined,e},_format:function(e){var t=v.$_$logLimits.inline.depth,r=v.$_$logLimits.inline.elements,n=v.$_$resolveGetters;if("string"!=typeof e){for(var o=[],a=0;a<arguments.length;a++)o.push(this._inspect(arguments[a],t,r,!1,!1,n));return{content:o.join(" ")}}a=1;for(var i=arguments,s=i.length,c=1===s?e:String(e).replace(u,function(e){if("%%"===e)return"%";if(s<=a)return e;switch(e){case"%s":return String(i[a++]);case"%d":return Number(i[a++]);case"%j":return JSON.stringify(i[a++]);case"%c":return a++&&"";default:return e}}),l=i[a];a<s;l=i[++a])c+=null===l||"object"!=typeof l?" "+l:" "+this._inspect(l,t,r);return{content:"'"+(c||"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",format:"raw"}},_inspect:function(e,t,r,n,o,a){n={seen:[],showHidden:!1,hideTypes:n,depth:t||v.$_$logLimits.inline.depth,stylize:function(e){return e},maxElementsPerLevel:r||v.$_$logLimits.inline.elements,customInspect:v.$_$reuseableTracer&&this._nodeUtil,sortProperties:!!o,resolveGetters:!!a};return this._formatValue(n,e,n.depth)},_formatValue:function(t,r,n){var o=this,e=this._formatPrimitive(t,r);if(e)return e;if(t.customInspect){e=o._nodeUtil.inspect&&r[o._nodeUtil.inspect.custom];if("function"==typeof(e=e||r.inspect===o._nodeUtil.inspect||"function"!=typeof r.inspect?e:r.inspect)&&e!==o._nodeUtil.inspect&&(!r.constructor||r.constructor.prototype!==r)){e=e.call(r,n,t);if(e!==r)return"string"!=typeof e?o._formatValue(t,e,n):e}}var e=Object.keys(r),a=this._arrayToHash(e),i=(t.showHidden&&(e=Object.getOwnPropertyNames(r)),t.sortProperties&&e.sort(),this._getOwnPropertySymbols(r));if(i.length&&(t.showHidden||"function"!=typeof r.propertyIsEnumerable||(i=i.filter(function(e){return r.propertyIsEnumerable(e)})),e=e.concat(i)),0===e.length){if("function"==typeof r)return i=r.name?": "+r.name:"",t.stylize("[λ"+i+"]","special");if(this._isRegExp(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(this._isDate(r))return t.stylize(Date.prototype.toString.call(r),"date");if(this._isBigInt(r))return r.toString()+"n";if(this._isError(r))return this._formatError(r)}var s,i="",c=!1,l=!1,u=!1,p=["{","}"],_=r&&r.constructor&&"string"==typeof r.constructor.name&&r.constructor.name||void 0;if("Object"!==_&&!t.hideTypes||(_=void 0),this._isArray(r)?(c=!(_=void 0),p=["[","]"]):this._isSet(r)?l=!0:this._isMap(r)&&(u=!0),"function"==typeof r&&(i=" [λ"+(r.name?": "+r.name:"")+"]"),this._isRegExp(r)&&(i=" "+RegExp.prototype.toString.call(r)),this._isDate(r)&&(i=" "+Date.prototype.toUTCString.call(r)),""===(i=this._isError(r)?" "+this._formatError(r):i)&&_&&(p[0]=_+("String"!==_&&"Number"!==_&&"Boolean"!==_||"function"!=typeof r.valueOf?"":" "+this._formatPrimitive(t,r.valueOf()))+" "+p[0]),c||u||l||(this._isGenerator(r)?i=" [Generator] ":this._isIterator(r)&&(i=" [Iterator] ")),this._nodeUtil&&this._nodeUtil.inspect&&this._looksLikePromise(r))return this._nodeUtil.inspect(r);if(!(0!==e.length||c&&0!==r.length||l||u))return p[0]+i+p[1];if(n<0)return this._isRegExp(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);_=!1;e.length>t.maxElementsPerLevel&&(e.length=t.maxElementsPerLevel,c&&(r=r&&r.slice(0,t.maxElementsPerLevel)),_=!0);try{s=c?this._formatArray(t,r,n,a,e):l?this._formatSet(t,r,n,a,e,_):u?this._formatMap(t,r,n,a,e,_):e.map(function(e){return o._formatProperty(t,r,n,a,e,c)})}catch(e){s=[]}return _&&s.push("..."),t.seen.pop(),this._reduceToSingleString(s,i,p)},_isArray:function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===this._objectToString(e)},_isSet:function(e){return!!(e&&v.Set&&"[object Set]"===this._objectToString(e)&&e.forEach)},_isMap:function(e){return!!(e&&v.Map&&"[object Map]"===this._objectToString(e)&&e.forEach)},_isIterator:function(e){return!!(e&&v.Symbol&&v.Symbol.iterator&&"function"==typeof e[v.Symbol.iterator])},_isGenerator:function(e){return!!(e&&v.Symbol&&v.Symbol.toStringTag&&"Generator"===e[v.Symbol.toStringTag])},_isRegExp:function(e){return"object"==typeof e&&"[object RegExp]"===this._objectToString(e)},_isDate:function(e){return"object"==typeof e&&"[object Date]"===this._objectToString(e)},_isBigInt:function(e){return"bigint"==typeof e},_isError:function(e){return"object"==typeof e&&("[object Error]"===this._objectToString(e)||e instanceof Error)},_objectToString:function(e){return Object.prototype.toString.call(e)},_isNegativeZero:function(e){return 1/e===Number.NEGATIVE_INFINITY},_reduceToSingleString:function(e,t,r){return 60<e.reduce(function(e,t){return e+t.length+1},0)?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]},_formatPrimitive:function(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string");case"number":return!t&&this._isNegativeZero(t)?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean");case"symbol":return this._Symbol&&this._Symbol.prototype.toString.call(t)}if(null===t)return e.stylize("null","null")},_formatError:function(e){return"["+Error.prototype.toString.call(e)+"]"},_formatSet:function(t,e,r,n,o,a){var i=this,s=[];e.forEach(function(e){s.length>t.maxElementsPerLevel||(e=i._formatValue(t,e,null===r?null:r-1),s.push(e))}),!a&&s.length>t.maxElementsPerLevel&&s.push("...");for(var c=0;c<o.length;c++)s.push(i._formatProperty(t,e,r,n,o[c],!1));return s},_formatMap:function(n,e,o,t,r,a){var i=this,s=[];e.forEach(function(e,t){var r;s.length>n.maxElementsPerLevel||(r=i._formatValue(n,t,t=null===o?null:o-1),r=(r+=" => ")+i._formatValue(n,e,t),s.push(r))}),!a&&s.length>n.maxElementsPerLevel&&s.push("...");for(var c=0;c<r.length;c++)s.push(i._formatProperty(n,e,o,t,r[c],!1));return s},_formatArray:function(t,r,n,o,e){for(var a=this,i=[],s=0,c=r.length;s<c;++s)this._hasOwnProperty(r,String(s))?i.push(this._formatProperty(t,r,n,o,String(s),!0)):i.push("");return e.forEach(function(e){e.toString().match(/^\d+$/)||i.push(a._formatProperty(t,r,n,o,e,!0))}),i},_formatProperty:function(e,t,r,n,o,a){var i,s,t=!e.resolveGetters&&Object.getOwnPropertyDescriptor(t,o)||{value:t[o]};if(t.get?s=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(s=e.stylize("[Setter]","special")),this._hasOwnProperty(n,o)||(i="["+o.toString()+"]"),s||(e.seen.indexOf(t.value)<0?-1<(s=null===r?this._formatValue(e,t.value,null):this._formatValue(e,t.value,r-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),void 0===i){if(a&&o.match(/^\d+$/))return s;i=this._propertyName(o),i=e.stylize(i,"string")}return i+": "+s},_arrayToHash:function(e){var t={};return e.forEach(function(e){t[e]=!0}),t},_hasOwnProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_getOwnPropertySymbols:function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]},_propertyName:function(e){return e.match(/^\d+$/)?e:(e=JSON.stringify(""+e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?e.substr(1,e.length-2):e.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")},_evaluate:function(e,t,r,n,o,a){var i={};try{var s,c,l=r||{};l.props=l.props!==this._undefined?l.props:100,l.sortProps=l.sortProps!==this._undefined&&l.sortProps,l.elements=(l.elements!==this._undefined?l:v.$_$logLimits.inline).elements,l.depth=(l.depth!==this._undefined?l:v.$_$logLimits.inline).depth,l.strLength=l.strLength!==this._undefined?l.strLength:v.$_$logLimits.values.default.stringLength,l.expId=l.expId||n,l.rootExpression=t,l.autoExpand=l.autoExpand!==this._undefined&&l.autoExpand,l.autoExpandPreviousObjects=[],l.autoExpandPropertyCount=0,l.autoExpandLimit=l.autoExpandLimit!==this._undefined?l.autoExpandLimit:v.$_$logLimits.values.autoExpand.elements,l.autoExpandMaxDepth=l.autoExpandMaxDepth!==this._undefined?l.autoExpandMaxDepth:v.$_$logLimits.values.autoExpand.depth,l.resolveGetters=l.autoExpand||v.$_$resolveGetters,l.node={current:this._undefined,parent:this._undefined,index:0},l.level=0,l.maxLogEntryStringSize=this._maxLogEntrySize,l.estimatedLogEntryStringSize=0,o?(s={error:o.message},this._processTreeNodeResult(s,l),i.data=s):(i.data=this._traverseObject({},e,l,l.expressionsToEvaluate||{}),this._suppressCallStackEval||!(i.data.expandable&&i.data.props&&i.data.props.length)&&i.data.expandable||(c={id:i.data.id+",cs",expandable:!0,callStackNode:!0,label:{name:"Call Stack"},disallowToCopyPath:!0,disallowToCopyData:!0,queryPath:i.data.queryPath.slice().concat(["_s_."])},i.data.expandable||(i.data.expandable=!0,i.data.props=[]),i.data.props.unshift(c),l.expressionsToEvaluate&&l.expressionsToEvaluate["_s_."]&&(c.callStack={stack:this._currentStack(),replaceFirstEntryLine:!l.proxyValue})),this._specName&&!l.proxyValue&&i.data&&i.data.label&&i.data.label.value&&(i.data.label.value+=" ("+this._specName+")"))}catch(e){l.node=l.node||{};r={error:'Error while evaluating "'+t+'": '+(e&&e.message||"")};this._processTreeNodeResult(r,l),i.data=r}return i},_addProperty:function(o,a,i,s,c,l,u,p){var _=this;return function(e){var t=c.node.current,r=c.node.index,n=c.node.parent;c.node.parent=t,c.node.index="number"==typeof s?s:e,o.push(_._property(a,i,s,c,l,u,p)),c.node.parent=n,c.node.index=r}},_addObjectProperty:function(o,e,a,i,s,c,l,u,p){var _=this;return e["_p_"+s.toString()]=!0,function(e){var t=c.node.current,r=c.node.index,n=c.node.parent;c.node.parent=t,c.node.index=e,o.push(_._property(a,i,s,c,l,u,p)),c.node.parent=n,c.node.index=r}},_traverseObject:function(t,o,a,e){var i=this,r=a.autoExpand;try{a.level++,a.autoExpand&&a.autoExpandPreviousObjects.push(o);var n,s,c,l=[],u=[],p=this._type(o),_="array"===p;const w=this._isMap(o),L=!("array"===p||"Error"===p);var d,h=!1,f="function"===p,g=this._isPrimitiveType(p),m=this._isPrimitiveWrapperType(p),v=g||m,$={},y=0,x=!1,S=/^(([1-9]{1}[0-9]*)|0)$/;if(a.depth){if(_){var b=o.length,E=e.ranges||a.ranges;if(E&&E.length===b)h=!0,l=E.props,this._traverseRanges(l,function(e,t,r){for(P=t;P<=r;P++)u.push(i._addProperty(e.props,o,p,P,a,void 0,w,L))});else if(b>a.elements){h=!0,n=0,s=b-1,t.cappedElements=!0;const E=i._createRanges(n,s,a);E.length&&(l=l.concat(E),E[0].props=!0,i._traverseRanges([E[0]],function(e,t,r){var n=Math.min(a.elements-1,r);for(n!==r&&(E[0].cappedRange=!0),P=t;P<=n;P++)u.push(i._addProperty(e.props,o,p,P,a,void 0,w,L))}))}else for(s=b,P=n=0;P<s;P++)u.push(i._addProperty(l,o,p,P,a,void 0,w,L));a.autoExpandPropertyCount+=u.length}if("null"!==p&&"undefined"!==p&&!g&&"String"!==p&&"Buffer"!==p&&"bigint"!==p){var T=e.props||a.props;if(this._isSet(o)?(P=0,o.forEach(function(e){var t;y++,a.autoExpandPropertyCount++,T<y||!a.isExpressionToEvaluate&&a.autoExpand&&a.autoExpandPropertyCount>a.autoExpandLimit?x=!0:u.push(i._addProperty(l,o,"Set",P++,a,(t=e,function(){return t}),w,L))})):w&&o.forEach(function(e,t){var r;y++,a.autoExpandPropertyCount++,T<y||!a.isExpressionToEvaluate&&a.autoExpand&&a.autoExpandPropertyCount>a.autoExpandLimit?x=!0:(100<(t=i._inspect(t,2,10).replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")).length&&(t=t.slice(0,100)+"..."),u.push(i._addProperty(l,o,"Map",t,a,(r=e,function(){return r}),w,L)))}),!h){try{for(c in o)if(!(_&&S.test(c)||this._blacklistedProperty(o,c))){if(y++,a.autoExpandPropertyCount++,T<y){x=!0;break}if(!a.isExpressionToEvaluate&&a.autoExpand&&a.autoExpandPropertyCount>a.autoExpandLimit){x=!0;break}u.push(i._addObjectProperty(l,$,o,p,c,a,void 0,w,L))}}catch(e){}if($._p_length=!0,f&&($._p_name=!0),!x){var R=this._getOwnPropertyNames(o).concat(this._getOwnPropertySymbols(o)),P=0;for(b=R.length;P<b;P++)if(c=R[P],!(_&&S.test(c.toString())||this._blacklistedProperty(o,c)||$["_p_"+c.toString()])){if(y++,a.autoExpandPropertyCount++,T<y){x=!0;break}if(!a.isExpressionToEvaluate&&a.autoExpand&&a.autoExpandPropertyCount>a.autoExpandLimit){x=!0;break}u.push(i._addObjectProperty(l,$,o,p,c,a,void 0,w,L))}}}}}if(t.type=p,v?(t.value=o.valueOf(),this._capIfString(p,t,a,e)):"date"===p?t.value=this._dateToString.call(o):"bigint"===p?t.value=o.toString():"RegExp"===p?t.value=this._regExpToString.call(o):"symbol"===p&&this._Symbol?t.value=this._Symbol.prototype.toString.call(o):a.depth||"null"===p||"undefined"===p||(delete t.value,t.capped=!0),x&&(t.cappedProps=!0),d=a.node.current,a.node.current=t,this._treeNodePropertiesBeforeFullValue(t,a),u.length)for(P=0,b=u.length;P<b;P++)u[P](P);l.length&&(t.props=l)}catch(e){t.type="unknown",t.error=e.message,d=a.node.current,a.node.current=t,this._treeNodePropertiesBeforeFullValue(t,a)}return this._additionalMetadata(o,t),this._treeNodePropertiesAfterFullValue(t,a),a.node.current=d,a.level--,a.autoExpand=r,a.autoExpand&&a.autoExpandPreviousObjects.pop(),t},_blacklistedProperty:function(e,t){if((e===v||e===this._envGlobal)&&"wallaby"===t||t.indexOf&&0===t.indexOf("$_$"))return!0},_createRanges:function(e,t,r,n){n=n||{index:0};for(var o=r.elements,a=[],i=Math.max(Math.ceil((t-e+1)/o),o),s=e;s<t;s+=i){var c=s,l=Math.min(s+i-1,t),c={rangeNode:!0,name:c+" - "+(l=t<=l+o/2?t:l),props:2*o<l-c+1&&1<o?this._createRanges(c,l,r,n):[]};if(this._setNodeId(c,r),this._setNodeLabel(c,r),this._setNodeExpandableState(c,r),this._setNodePermissions(c,r),c.id+=" r "+n.index++,a.push(c),l===t)break}return a},_traverseRanges:function(e,t){for(var r=0,n=e.length;r<n;r++){var o,a=e[r];a.rangeNode=!0,a.props&&(a.props.length?this._traverseRanges(a.props,t):!0===a.props&&(o=a.name.split("-"),a.props=[],t(a,parseInt(o[0],10),parseInt(o[1],10))))}},_capIfString:function(e,t,r,n){n=n.strLength||r.strLength;("string"===e||"String"===e)&&t.value&&t.value.length>n&&(t.capped=t.value.substr(0,n),delete t.value)},_property:function(e,t,r,n,o,a,i){var s=this,c=(o=o||function(e,t){return e[t]},r.toString()),l=n.expressionsToEvaluate||{},u=n.depth,p=n.isExpressionToEvaluate;try{var _,d=c,h=(a&&"'"===d[0]&&(d=d.substr(1,d.length-2)),n.expressionsToEvaluate=l["_p_"+d]),f=(h&&(n.depth=n.depth+1),n.isExpressionToEvaluate=!!h,"symbol"==typeof r),g={name:f||a?c:this._propertyName(c)};if(f&&(g.symbol=!0),i){var m=this._getOwnPropertyDescriptor(e,r);if(m&&(m.set&&(g.setter=!0),m.get)&&!h&&!n.resolveGetters)return g.getter=!0,this._processTreeNodeResult(g,n),g}try{_=o(e,r)}catch(e){return g={name:c,type:"unknown",error:e.message},this._processTreeNodeResult(g,n),g}var v,$,y,x=this._type(_),S=this._isPrimitiveType(x);return g.type=x,S?this._processTreeNodeResult(g,n,_,function(){g.value=_.valueOf(),h||s._capIfString(x,g,n,{})}):(v="function"===x,$=n.autoExpand&&n.level<n.autoExpandMaxDepth&&n.autoExpandPreviousObjects.indexOf(_)<0&&!v&&n.autoExpandPropertyCount<n.autoExpandLimit,y=n.estimatedLogEntryStringSize>n.maxLogEntryStringSize,$||n.level<u&&!y&&!v||h?(this._traverseObject(g,_,n,h||{}),this._additionalMetadata(_,g)):this._processTreeNodeResult(g,n,_,function(){"null"!==x&&"undefined"!==x&&(delete g.value,g.capped=!0)})),g}finally{n.expressionsToEvaluate=l,n.depth=u,n.isExpressionToEvaluate=p}},_processTreeNodeResult:function(e,t,r,n){this._treeNodePropertiesBeforeFullValue(e,t),n&&n(),this._additionalMetadata(r,e),this._treeNodePropertiesAfterFullValue(e,t)},_treeNodePropertiesBeforeFullValue:function(e,t){this._setNodeId(e,t),this._setNodeQueryPath(e,t),this._setNodeExpressionPath(e,t),this._setNodePermissions(e,t)},_treeNodePropertiesAfterFullValue:function(e,t){this._setNodeLabel(e,t),this._setNodeExpandableState(e,t),t.sortProps&&this._sortProps(e,t),this._addFunctionsNode(e,t),this._addLoadNode(e,t),this._cleanNode(e,t)},_additionalMetadata:function(e,t){try{e&&"number"==typeof e.length&&(t.length=e.length)}catch(e){}if("number"===t.type||"Number"===t.type)if(isNaN(t.value))t.nan=!0,delete t.value;else switch(t.value){case Number.POSITIVE_INFINITY:t.positiveInfinity=!0,delete t.value;break;case Number.NEGATIVE_INFINITY:t.negativeInfinity=!0,delete t.value;break;case 0:this._isNegativeZero(t.value)&&(t.negativeZero=!0)}else"function"===t.type&&"string"==typeof e.name&&e.name&&t.name&&e.name!==t.name&&(t.funcName=e.name)},_setNodeId:function(e,t){e.id=t.node.parent?t.node.parent.id+" "+t.node.index:t.expId},_sortProps:function(e){e.props&&e.props.length&&"array"!==e.type&&"Map"!==e.type&&"Set"!==e.type&&e.props.sort(function(e,t){e=e.name.toLowerCase(),t=t.name.toLowerCase();return e<t?-1:t<e?1:0})},_addFunctionsNode:function(e,t){if(e.props&&e.props.length){for(var r,n=[],o=[],a=0,i=e.props.length;a<i;a++){var s=e.props[a];("function"===s.type?n:o).push(s)}!o.length&&t.autoExpand&&(e.capped=!0),!o.length||n.length<=1||(e.props=o,r={functionsNode:!0,props:n},t.autoExpand&&(r.capped=!0),this._setNodeId(r,t),this._setNodeLabel(r,t),this._setNodeExpandableState(r,t),this._setNodePermissions(r,t),r.id+=" f",e.props.unshift(r))}},_addLoadNode:function(e,t){var r;e.props&&e.props.length&&e.cappedProps&&"string"!==e.type&&!t.nonExpandable&&(this._setNodeId(r={loadActionNode:!0},t),this._setNodeQueryPath(r,t),this._setNodeLabel(r,t),this._setNodeExpandableState(r,t),this._setNodePermissions(r,t),r.id+=" l",e.props.push(r))},_setNodeExpandableState:function(e,t){((e.capped||e.cappedProps||e.functionsNode||e.loadActionNode||e.rangeNode||e.getter)&&!t.nonExpandable||this._isArray(e.props))&&(e.expandable=!0)},_setNodePermissions:function(e,t){var t=t.node.parent,r=((e.symbol||t&&t._hasSymbolPropertyOnItsPath)&&(e._hasSymbolPropertyOnItsPath=!0),t&&t._hasSetOnItsPath),t=t&&t._hasMapOnItsPath,n=("Set"!==e.type&&!r||(e._hasSetOnItsPath=!0),"Map"!==e.type&&!t||(e._hasMapOnItsPath=!0),!(e.functionsNode||e.loadActionNode||e.rangeNode||e.error));(!n||e._hasSymbolPropertyOnItsPath||r||t)&&(e.disallowToCopyPath=!0),n&&!e.getter&&"function"!==e.type&&"symbol"!==e.type&&"Set"!==e.type&&"Map"!==e.type||(e.disallowToCopyData=!0)},_cleanNode:function(e){e._hasSymbolPropertyOnItsPath=void 0,e._hasSetOnItsPath=void 0,e._hasMapOnItsPath=void 0},_setNodeExpressionPath:function(e,t){t.node.parent?e.expressionPath=t.node.parent.expressionPath.concat([this._propertyAccessor(e.name)]):e.expressionPath=[t.rootExpression]},_propertyAccessor:function(e){return e?e.match(c)?"["+e+"]":e.match(s)?"."+e:e.match(l)?"["+e+"]":"['"+e+"']":""},_setNodeQueryPath:function(e,t){var r;t.node.parent?e.loadActionNode?e.queryPath=t.node.current.queryPath.slice():((r=e.name)&&"'"===r[0]&&(r=r.substr(1,r.length-2)),e.queryPath=t.node.parent.queryPath.concat(["_p_"+r])):e.queryPath=[e.id]},_setNodeLabel:function(e,t){e.label={},e.rangeNode?e.label.name=e.name:e.loadActionNode?e.label.name="...":e.functionsNode?e.label.name="Functions":(e.label.name=e.name,e.label.type=this._formatNodeType(e,t),e.label.value=this._formatNodeValue(e,t),t.estimatedLogEntryStringSize+=(e.label.name&&e.label.name.length||0)+(e.label.type&&e.label.type.length||0)+(e.label.value&&e.label.value.length||0)+18)},_formatNodeValue:function(e,t,r){if(e.rangeNode)return e.name;if(e.error)return e.error;if(e.getter)return"(...)";if("number"===e.type.toLowerCase()){if(e.nan)return"NaN";if(e.positiveInfinity)return"Infinity";if(e.negativeInfinity)return"-Infinity";if(e.negativeZero)return"-0"}return"null"===e.type||"undefined"===e.type?e.type:"string"===e.type.toLowerCase()?"'"+(e.capped?e.capped+"...":e.value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'"+(e.capped?" (total length: "+e.length+")":""):(this._isUndefined(e.value)?this._formatCompactObjectView(e,t,r):e.value)+(e.funcName?":"+e.funcName:"")},_formatCompactObjectView:function(e,t,r){if("function"===e.type)return"λ";var n="array"===e.type&&0===e.length,o=["array"===e.type?"[":"{","","array"===e.type?"]":"}"];if(r||e.capped||e.ranges)o[1]=n?"":"...";else if(e.props){for(var a=[],i=[],s=0;s<e.props.length&&i.length<=5;s++){var c=e.props[s];("function"===c.type||c.getter?a:i).push("array"===e.type?this._formatNodeValue(c,t,!0):c.name+": "+this._formatNodeValue(c,t,!0))}i.length<5&&(i=i.concat(a)),o[1]=i.join(", "),5<e.props.length&&(o[1]+=", ...")}return o.join("")},_formatNodeType:function(e){if(this._isDisplayableType(e.type))return e.error?"":"date"===e.type?"Date":"array"===e.type?e.length?"Array("+e.length+")":"":e.type},_isUndefined:function(e){return e===this._undefined},_isDisplayableType:function(e){return!("boolean"===e||"Boolean"===e||"symbol"===e||"string"===e||"String"===e||"number"===e||"Number"===e||"object"===e||"Object"===e||"function"===e||"null"===e||"undefined"===e)},_type:function(e){var t=typeof e;return"object"===t?"[object Array]"===this._objectToString(e)?t="array":"[object Date]"===this._objectToString(e)?t="date":"[object BigInt]"===this._objectToString(e)?t="bigint":null===e?t="null":e.constructor&&(t=e.constructor.name||t):"undefined"===t&&this._HTMLAllCollection&&e instanceof this._HTMLAllCollection&&(t="HTMLAllCollection"),t},_isPrimitiveType:function(e){return"boolean"===e||"string"===e||"number"===e},_isPrimitiveWrapperType:function(e){return"Boolean"===e||"String"===e||"Number"===e},initLoadingPhase:function(){var r=this;this._resetLoadingData(),this._testFileIds=this._safeObject({}),this._seq=0,(v.$_$testFiles||[]).forEach(function(e){r._testFileIds[e.id]=1}),r._original_$_$wp=v.$_$wp,r._original_$_$wpe=v.$_$wpe,v.$_$wp=function(e,t){return r._initializeCoverage(e,t),r._reportProgramScope("programScopeStart",e),r.programScopeStartLoading(e),r._executionContext()},v.$_$wpe=function(e){r._reportProgramScope("programScopeEnd",e),r.programScopeEndLoading(e)},!v.$_$traceContext||v.$_$traceContext.test?r._resetTracerMode():v.$_$traceContext.test||r._setTraceRecordMode(),v.$_$profileRun?r._setProfileMode():r._resetTracerMode()},_resetTracerMode:function(){v.$_$w=$.$_$w,v.$_$w_=$.$_$w_,v.$_$wv=$.$_$wv,v.$_$wf=$.$_$wf,this._envGlobal&&(this._envGlobal.$_$w=v.$_$w,this._envGlobal.$_$w_=v.$_$w_,this._envGlobal.$_$wv=v.$_$wv,this._envGlobal.$_$wf=v.$_$wf)},_setProfileMode:function(){v.$_$wf=v.$_$w_=v.$_$w=function(){},v.$_$wv=function(e,t,r,n,o,a){return a},this._envGlobal&&(this._envGlobal.$_$w=v.$_$w,this._envGlobal.$_$w_=v.$_$w_,this._envGlobal.$_$wf=v.$_$wf,this._envGlobal.$_$wv=v.$_$wv)},_setTraceRecordMode:function(){v.$_$trace||(v.$_$trace={sequence:[],tests:{},values:{}}),v.$_$traceContext.allowRecordingValuesAttributtedToCurrentFrame=!0,v.$_$traceContext.allowRecordingValues=!0,v.$_$traceContext.currentFrame=v.$_$traceContext.currentFrame||0,v.$_$traceContext.stepsToRecordWatchExpressionsAt=v.$_$traceContext.stepsToRecordWatchExpressionsAt||{},v.$_$traceContext.allowedNumberOfStepsToRecordWatchExpressionsAfterCurrentStep=$._maxTraceStepsForWatchExpressionPrefetch,v.$_$w=function(e,t,r){$.$_$w(e,t),$._recordTrace(e,t,r[0]),$._recordTraceValues(e,t,r[1]),$._recordCallStack()},v.$_$wv=function(e,t,r,n,o,a,i,s,c,l){if(v.$_$trace){var u=$._expressionId(e,r,0);if(!l||!l.traceId||l.permanent){var p,_={};for(p in l||{})_[p]=l[p];_.traceId="*",_.traceStep=v.$_$trace.sequence.length>$._maxTraceSteps?void 0:v.$_$trace.sequence.length-1;var d=$.$_$wv(e,t,r,n,o,a,i,s,c,_);if(!_.permanent)return d}l.permanent&&delete l.permanent,v.$_$trace.values[u]={fileId:e,rangeId:t,fileRangeId:r,context:o,val:a,exp:i,singleHit:s,evalOpts:c,logMarkerContext:l},$._recordTraceValues(e,t,n[1],!0)}return a},v.$_$w_=function(e,t,r,n){$.$_$w_(e,t),v.$_$traceContext.allowRecordingValuesAttributtedToCurrentFrame&&n&&v.$_$traceContext.currentFrame<=v.$_$trace.sequence.length-1&&(v.$_$traceContext.allowRecordingValuesAttributtedToCurrentFrame=!1)},v.$_$wf=function(e){return $.scopeStart(e),$._executionContext()},this._envGlobal&&(this._envGlobal.$_$w=v.$_$w,this._envGlobal.$_$wv=v.$_$wv,this._envGlobal.$_$wf=v.$_$wf)},_executionContext:function(){return[++this._stackDepth,++this._functionCallId]},_recordCallStack:function(){v.$_$trace&&v.$_$traceContext.captureCallStackFrame===v.$_$trace.sequence.length-1&&(v.$_$trace.callStack={},v.$_$trace.callStack[v.$_$traceContext.captureCallStackFrame]={stack:$._currentStack()})},_recordTraceValues:function(e,t,r,n){var o,a,i,s,c,l;v.$_$traceContext.allowRecordingValues&&v.$_$trace&&(o=v.$_$trace.sequence.length-1,a=(i=v.$_$traceContext.currentFrame<o&&!v.$_$traceContext.currentFrameFunctionCallId)||r<v.$_$traceContext.currentFrameFunctionCallId,i=i||r<=v.$_$traceContext.currentFrameFunctionCallId,s=v.$_$traceContext.currentFrameFunctionCallId&&r===v.$_$traceContext.currentFrameFunctionCallId,c=o<v.$_$traceContext.currentFrame&&v.$_$traceContext.stepsToRecordWatchExpressionsAt[o],(l=v.$_$traceContext.currentFrame===o)&&!n&&(v.$_$traceContext.currentFrameFunctionCallId=r),v.$_$traceContext.allowRecordingValuesAttributtedToCurrentFrame&&(l||n&&s)?$._recordCapturedTraceValues(v.$_$traceContext.currentFrame):c?$._recordCapturedTraceValues(o):s&&(--v.$_$traceContext.allowedNumberOfStepsToRecordWatchExpressionsAfterCurrentStep<0?this._stopTraceValueRecording():$._recordCapturedTraceValues(o)),i&&(v.$_$traceContext.allowRecordingValuesAttributtedToCurrentFrame=!1),a)&&this._stopTraceValueRecording()},_recordTrace:function(e,t,r){v.$_$trace.sequence.length>this._maxTraceSteps||(v.$_$trace._stackDepth!==r&&(v.$_$trace._stackDepth=r),v.$_$trace.sequence.push([e,t,r]))},_recordCapturedTraceValues:function(a){if(Object.keys(v.$_$trace.values).length){const i=v.$_$trace.values;$._doWhenReceiverIsReady(function(){for(var e=Object.keys(i),t=0,r=e.length;t<r;t++){var n=e[t],n=i[n],o={changeId:n.logMarkerContext.changeId,traceId:"*",traceStep:a,preciseTraceStep:!0,initialTraceId:n.logMarkerContext.traceId};$._autoLogImmediateValue(n.fileId,n.rangeId,-1*a,n.context,n.val,n.exp,n.singleHit,n.evalOpts,o)}})}},_clearCapturedTraceValues:function(){v.$_$trace.values={}},_stopTraceValueRecording:function(){$._clearCapturedTraceValues(),v.$_$traceContext.allowRecordingValues=!1},_currentStack:function(){try{throw new Error("stack trace")}catch(e){return e.stack}},_initializeCoverage:function(e,t){if(t){void 0===v.$_$coverage[e]&&(v.$_$coverage[e]=[]);var r=v.$_$coverage[e];if(r.length!==t){this.debugLog("Range mismatch (fileId: "+e+", calculated: "+r.length+", actual: "+t+")");for(var n=r.length;n<t;n++)r[n]={}}}},_reportProgramScope:function(e,t){var r=this;this._shouldReportProgramScope&&this._doWhenReceiverIsReady(function(){r._sendWithHighPriority(e,t)})},_looksLikePromise:function(e){return e&&e.constructor&&"Promise"===e.constructor.name&&"function"==typeof e.then&&"function"==typeof e.catch&&(v.Promise||{}).prototype!==e},_looksLikeObservable:function(e){return e&&e.constructor&&e.constructor.name&&"string"==typeof e.constructor.name&&~e.constructor.name.indexOf("Observable")&&"function"==typeof e.forEach},_looksLikeBuffer:function(e){return e&&e.constructor&&"Buffer"===e.constructor.name&&"function"==typeof e.toString&&(v.Buffer||{}).prototype!==e},_autoLogValue:function(t,r,n,o,e,a,i,s,c,l){var u=this,p=v.$_$session;this._loggingValue=!0,u._looksLikePromise(e)?(this._loggingValue=!1,e.then(function(e){v.$_$session===p&&u._autoLogResolvedValue(t,r,n,o,"then ",u._valueToFormat(e,a),i,s,c,l)}).catch(function(e){v.$_$session===p&&u._autoLogResolvedValue(t,r,n,o,"catch ",(e||"<No Reason Provided>").toString(),i,s,c,l)})):u._looksLikeObservable(e)?(this._loggingValue=!1,e.forEach(function(e){v.$_$session===p&&u._autoLogResolvedValue(t,r,n,o,"",u._valueToFormat(e,a),i,s,c,l)})):u._autoLogImmediateValue(t,r,n,o,e,a,i,s,c,l),this._loggingValue=!1},_createProxy:function(i,s){s=s||{path:[]};var o,e=i.val,c=this;if(!c._loggingValue)return c._proxyCache||(c._proxyCache=new v.WeakMap),o=function(e,t,r){var n,o,a;if(!c._loggingValue)return t=(t||"").toString(),!(a="function"==typeof e)&&"object"!=typeof e||"get"!==r||(n=c._proxyCache.get(e))||((o={}).path=s.path.slice(),t&&o.path.push(t),n=c._createProxy({fileId:i.fileId,rangeId:i.rangeId,hitCount:i.hitCount,context:i.context,val:e,exp:i.exp,singleHit:i.singleHit,evalOpts:i.evalOpts,logMarkerContext:i.logMarkerContext},o),c._proxyCache.set(e,n)),a||((o={}).path=s.path.slice().concat(t?[t]:[]),o.trap=r,a=c._expressionId(i.fileId,i.rangeId,i.hitCount),o.hitCount=c._consoleProxyHits[a]||0,c._autoLogValue(i.fileId,i.rangeId,i.hitCount,i.context,e,i.exp,i.singleHit,i.evalOpts,i.logMarkerContext,o),c._consoleProxyHits[a]=o.hitCount+1),n},new v.Proxy(e,{get:function(e,t,r){e=Reflect.get(e,t,r);return o(e,t,"get")||e},set:function(e,t,r,n){return o(r,t,"set"),Reflect.set(e,t,r,n)},apply:function(e,t,r){e=Reflect.apply(e,t,r);return o(e,void 0,"call"),e},deleteProperty:function(e,t){return o(Reflect.get(e,t,e),t,"delete"),Reflect.deleteProperty(e,t)}})},_valueToFormat:function(e,t){return"$_$ne"===t?e:t(e)},_autoLogImmediateValue:function(e,t,r,n,o,a,i,s,c,l){this._isBigInt(o)&&(o=o.toString()+"n"),this._autoLogResolvedValue(e,t,r,n,"",this._valueToFormat(this._looksLikeBuffer(o)?o.toString():o,a),i,s,c,l)},_autoLogResolvedValue:function(e,t,r,n,o,a,i,s,c,l){c&&(u=c.changeId,p=c.traceId,_=c.traceStep,d=c.permanent,h=c.preciseTraceStep,f=c.initialTraceId),this._loggingValue=!0;var u,p,_,d,h,f,g,m,c=e+","+t;!o&&2&s&&(o="⚑ "),r<this._evaluatedExpressionPerRangeLimit?(g=this._formattingOpts(c,{elements:i?50:this._undefined,resolveGetters:v.$_$resolveGetters||1&s||this._autoExpandAllLogs,depth:i?2:this._undefined}),l&&l.hitCount===this._evaluatedProxyExpressionPerRangeLimit?m=this._evaluateExpressions(this._expressionId(e,c,r,l),a,n,new Error("Only the first "+l.hitCount+" values are evaluated"),s,p,!!l,g):(!l||l.hitCount<this._evaluatedProxyExpressionPerRangeLimit)&&(m=this._evaluateExpressions(this._expressionId(e,c,r,l),a,n,void 0,s,p,!!l,g))):r===this._evaluatedExpressionPerRangeLimit&&(g=this._formattingOpts(c,{elements:i?50:this._undefined,resolveGetters:v.$_$resolveGetters||1&s||this._autoExpandAllLogs,depth:i?2:this._undefined}),m=this._evaluateExpressions(this._expressionId(e,c,r,l),a,n,new Error("Only the first "+r+" values are evaluated"),s,p,!!l,g)),(p||u||d)&&(m=m||{},d)&&(m.permanent=d),(p||u)&&(p&&(m.traceId=p),u&&(m.changeId=u),m.traceStep=_,m.preciseTraceStep=h,m.initialTraceId=f),l&&m&&m.data&&(m.data.proxyData=l),this._sendLog("autoLog",{prefix:o,format:o?"raw":void 0},n,e,t,m),this._loggingValue=!1},_formattingOpts:function(e,t){var r=this._time(),n=this._logStats;let o=n[e];return!o||100<_(r,o.ts)&&o.count&&o.time/o.count<50?(n[e]=o={count:0,time:0,ts:r},n.hits={}):50<_(r,n.hits.ts)&&n.hits.count&&n.hits.time/n.hits.count<50&&(n.hits={}),o.reduceLimits||n.hits.reduceLimits?{depth:2,props:5,elements:5,strLength:256,autoExpandLimit:30,autoExpandMaxDepth:2,logPointHits:o,startTime:r}:(t.logPointHits=o,t.startTime=r,t)},_evaluateExpressions:function(e,t,r,n,o,a,i,s){var c=this._expressionsToEvaluate&&this._expressionsToEvaluate[e],s=s||{},c=(s.expressionsToEvaluate=c,i&&(s.proxyValue=!0),1&o||this._autoExpandAllLogs),i=(c&&(s.autoExpand=!0,s.depth=1,s.strLength=v.$_$logLimits.values.autoExpand.stringLength),this._evaluate(t,r,s,e,n,a)),o=(i.data&&(i.data.id=e,i.data.autoExpand=!!c),s.logPointHits),t=s.startTime;return o&&t&&(r=this._logStats,n=this._time(),o.count++,o.time+=_(t,n),o.ts=n,r.hits.count++,r.hits.time+=_(t,n),r.hits.ts=n,(50<o.count||20<o.time)&&(o.reduceLimits=!0),500<r.hits.count||200<r.hits.time)&&(r.hits.reduceLimits=!0),i}},v.$_$doNotInit?v.$_$Tracer=o:(($=new o).setGlobalErrorHandler(),_=function(e,t){return t-e},v.performance?$._time=function(){return v.performance.now()}:v.process&&v.process.hrtime?($._time=function(){return v.process.hrtime()},_=function(e,t){return 1e3*(t[0]-e[0])+(t[1]-e[1])/1e6}):$._time=function(){return+new Date},$._logTime=function(t,r,n,o,a,i,e,s,c){const l=this;var u,p;return l._looksLikePromise(e)?(u=v.$_$session,e.then(function(e){v.$_$session===u&&l._logTime(t,r,n,o,a,i,e,l._time(),c)}).catch(function(e){v.$_$session===u&&l._logTime(t,r,n,o,a,i,e,l._time(),c)})):(s=_(i,s),(p=$._autoTimeHits[n])?(p.value&&(p.n=1,p.min=p.value,p.max=p.value,p.total=p.value,delete p.value),p.min=Math.min(p.min,s),p.max=Math.max(p.max,s),p.total+=s,p.n+=1):$._autoTimeHits[n]={value:s,context:a,fileId:t,rangeId:r,logMarkerContext:c}),e},$.$_$w=$.$_$w_=v.$_$w=v.$_$w_=function(e,t){$.statement(e,t)},v.$_$wp=function(e,t){return $._initializeCoverage(e,t),$._reportProgramScope("programScopeStart",e),$.scopeStart(e),$._executionContext()},v.$_$wpe=function(e){$._reportProgramScope("programScopeEnd",e)},$.$_$wf=v.$_$wf=function(e){$.scopeStart(e)},$.$_$wv=v.$_$wv=function(e,t,r,n,o,a,i,s,c,l){var u,p,_,d,h,f,g,m=$._consoleHits[r]||0;return s?$._identifierExpressionAutoLogHitLimit?m<$._identifierExpressionAutoLogHitLimit?$._doWhenReceiverIsReady(function(){$._autoLogValue(e,t,m,o,a,i,s,c,l)},arguments):m===$._identifierExpressionAutoLogHitLimit&&$._doWhenReceiverIsReady(function(){$._sendLog("log",{content:"Only the first "+$._identifierExpressionAutoLogHitLimit+" values are automatically logged, use console.log("+(o||"...")+") for the full output",format:"raw"},o,e,t)},arguments):m||$._doWhenReceiverIsReady(function(){$._autoLogValue(e,t,m,o,a,i,s,c,l)},arguments):!$._logLimit||m<$._logLimit?$._doWhenReceiverIsReady(function(){$._autoLogValue(e,t,m,o,a,i,s,c,l)},arguments):m===$._logLimit&&(u=l&&l.changeId,p=l&&l.traceId,_=l&&l.traceStep,d=l&&l.permanent,h=l&&l.preciseTraceStep,f=l&&l.initialTraceId,(p||u||d)&&(g={},d&&(g.permanent=d),p&&(g.traceId=p),u&&(g.changeId=u),p||u)&&(g.traceStep=_,g.preciseTraceStep=h,g.initialTraceId=f),$._doWhenReceiverIsReady(function(){$._sendLog("log",{content:"Only the first "+$._logLimit+" values are automatically logged. Increase this limit with the `logLimit` setting.",format:"raw"},o,e,t,g)},arguments)),$._consoleHits[r]=m+1,!(2&c&&"object"==typeof a&&v.Proxy&&v.WeakMap)||l&&l.traceId?a:$._createProxy({fileId:e,rangeId:t,hitCount:m,context:o,val:a,exp:i,singleHit:s,evalOpts:c,logMarkerContext:l})},v.$_$tracer=$,v.$_$coverage=v.$_$coverage||[],v.$_$reuseableTracer||(v.$_$tracer._expressionsToEvaluate=v.$_$expressionsToEvaluate||{}),v.$_$noLogThrottling&&(v.$_$tracer._formattingOpts=(e,t)=>t),i=function(e){return e.path},a=v.$_$testFiles&&(v.$_$testFiles||[]).map(i).map(function(e){return e&&e.replace(/\\/g,"/")}),i=v.$_$testFiles&&v.$_$testFiles.filter(function(e){return e.loaded}).map(i),$.initLoadingPhase(),v.wallaby={delayStart:function(){$._patchFrameworks(),$._delayStart=!0},start:function(){$._delayStart=!1,$.start()},_startWhenReceiverIsReady:function(e){$._shouldReportProgramScope=!0,$._doWhenReceiverIsReady(function(){e()})},tests:a,loadedTests:i,baseDir:v.$_$baseDir,slowTestThreshold:v.$_$slow||75})}(function(){return this}()||global);